# v2.4.0 Concept Agent 开发简报

创建时间：2025-07-13  
作者：Stock Analysis System Team

## 🎯 执行摘要

v2.4.0开发方向已调整，将优先开发Concept Agent（概念股分析专家）而非Technical Agent。该Agent旨在提供基于事实依据的概念股智能发现和分析能力，是用户明确需求的功能。

## 🔄 重要调整

### 从Technical Agent到Concept Agent
- **原计划**：Technical Analysis Agent（技术指标分析）
- **新计划**：Concept Agent（概念股分析）
- **原因**：用户明确指出概念股分析是第4个规划的Agent

## 📋 Concept Agent核心设计

### 1. 核心价值
**基于事实依据的概念股分析**，而非网络上随意的概念股列表。

### 2. 两类查询场景

#### A类：概念发现
```
输入："充电宝相关的概念板块和概念股有哪些？"
功能：根据关键词找出所有相关概念和股票
```

#### B类：技术筛选
```
输入："半导体概念股哪些符合日周主力资金净流入、MACD水上红柱且5日10日均线多头排列？"
功能：在概念股范围内进行复杂技术条件筛选
```

### 3. 关联度评分体系（100分制）

| 维度 | 权重 | 说明 |
|------|------|------|
| 软件收录 | 40分 | 东财、同花顺等平台收录情况 |
| 财报证据 | 30分 | 年报、季报中的业务描述 |
| 互动平台 | 20分 | 董秘确认的相关信息 |
| 公告证据 | 10分 | 临时公告中的概念提及 |

### 4. 数据架构（待创建）

```sql
-- 核心数据表
tu_concept_blocks      -- 概念板块主表
tu_concept_stocks      -- 概念成分股表
tu_concept_evidence    -- 关联证据表
tu_concept_technical_cache -- 技术指标缓存
```

## 📊 当前状态

### 已完成
- ✅ 与用户充分讨论需求
- ✅ 创建初步设计文档
- ✅ 更新项目规划文档
- ✅ 设计关联度算法

### 等待中
- ⏳ 外部项目创建数据表
- ⏳ 概念数据导入
- ⏳ 互动平台数据准备

### 关键决策
1. **数据源**：现有数据库 + 外部项目采集
2. **匹配方式**：精确匹配 + 模糊匹配
3. **更新频率**：每日19点后更新
4. **关联依据**：必须有事实证据支持

## 📅 时间规划

### Week 1（当前）
- 初步设计完成 ✅
- 等待数据表创建 ⏳

### Week 2-3
- 核心功能开发
- 概念匹配实现

### Week 4
- 技术筛选集成
- 性能优化

### Week 5
- 测试和上线

## 💡 技术亮点

### 1. 模块化设计
```python
ConceptAgentModular
├── 复用现有模块
│   ├── ParameterExtractor
│   ├── QueryValidator
│   └── ResultFormatter
└── 概念专用模块
    ├── ConceptMatcher
    ├── EvidenceCollector
    └── RelevanceCalculator
```

### 2. 多维度验证
- 不是简单的关键词匹配
- 需要多个数据源交叉验证
- 每个关联都有明确证据

### 3. 智能筛选
- 支持复杂的技术条件组合
- 利用缓存提升查询性能
- 批量计算优化

## 🚧 当前挑战

1. **数据依赖**：需要等待外部项目准备数据
2. **性能要求**：B类查询涉及大量计算
3. **准确性**：必须保证关联的可靠性

## 🎉 预期成果

为用户提供：
- 可信的概念股列表
- 透明的关联证据
- 强大的筛选能力
- 专业的分析报告

## 📝 下一步行动

1. 等待外部项目确认数据表创建进度
2. 细化模糊匹配算法方案
3. 准备测试用例和开发环境

---

**状态**：初步设计完成，等待数据准备  
**预计完成**：2025年8月16日  
**负责团队**：Stock Analysis System Team

Stock Analysis System v2.4.0 - 让概念股分析更专业、更可信！ 🚀