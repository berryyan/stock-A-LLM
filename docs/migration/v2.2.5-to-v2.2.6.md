# v2.2.5 åˆ° v2.2.6 å‡çº§æŒ‡å—

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-07-09  
**é€‚ç”¨ç‰ˆæœ¬**: v2.2.5 â†’ v2.2.6

## ğŸ“‹ å‡çº§æ¦‚è¿°

v2.2.6 æ˜¯ä¸€ä¸ªåŠŸèƒ½å¢å¼ºç‰ˆæœ¬ï¼Œä¸»è¦æ”¹è¿›äº†å‚æ•°éªŒè¯é€»è¾‘å’ŒæŸ¥è¯¢å‡†ç¡®æ€§ã€‚å‡çº§è¿‡ç¨‹ç®€å•ï¼Œæ— éœ€æ•°æ®åº“è¿ç§»ã€‚

## ğŸ”§ å‡çº§æ­¥éª¤

### 1. å¤‡ä»½å½“å‰ç‰ˆæœ¬
```bash
# å¤‡ä»½å½“å‰ä»£ç 
cp -r stock_analysis_system stock_analysis_system_v2.2.5_backup

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp .env .env.backup
```

### 2. è·å–æ–°ç‰ˆæœ¬ä»£ç 
```bash
# åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•
cd stock_analysis_system

# æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin
git checkout v2.2.6

# æˆ–è€…å¦‚æœåœ¨åˆ†æ”¯ä¸Š
git pull origin dev-react-frontend-v2
```

### 3. æ›´æ–°ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows

# æ£€æŸ¥æ˜¯å¦æœ‰æ–°ä¾èµ–
pip install -r requirements.txt
```

### 4. é‡å¯æœåŠ¡
```bash
# åœæ­¢å½“å‰æœåŠ¡
# Ctrl+C æˆ–ä½¿ç”¨è¿›ç¨‹ç®¡ç†å·¥å…·

# å¯åŠ¨æ–°ç‰ˆæœ¬
python -m uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

## ğŸ“ ä¸»è¦å˜æ›´

### æ–°å¢æ–‡ä»¶
1. `utils/sector_name_mapper.py` - æ¿å—åç§°æ˜ å°„æ¨¡å—
2. `test_remaining_issues.py` - æµ‹è¯•è„šæœ¬ï¼ˆå¯é€‰ï¼‰

### ä¿®æ”¹æ–‡ä»¶
1. `utils/parameter_extractor.py` - ä¼˜åŒ–å‚æ•°æå–é€»è¾‘
2. `utils/query_validator.py` - å¢å¼ºéªŒè¯è§„åˆ™
3. `utils/unified_stock_validator.py` - æ”¹è¿›è‚¡ç¥¨è¯†åˆ«
4. `agents/sql_agent_modular.py` - é›†æˆæ¿å—æ˜ å°„

### é…ç½®å˜æ›´
- æ— é…ç½®æ–‡ä»¶å˜æ›´
- æ— ç¯å¢ƒå˜é‡å˜æ›´
- æ— æ•°æ®åº“ç»“æ„å˜æ›´

## âš ï¸ æ³¨æ„äº‹é¡¹

### è¡Œä¸ºå˜åŒ–
1. **ä¸ªè‚¡æ’åæŸ¥è¯¢**
   - ä¹‹å‰ï¼š"è´µå·èŒ…å°æ¶¨å¹…æ’å"å¯èƒ½è¿”å›æ•°æ®
   - ç°åœ¨ï¼šè¿”å›é”™è¯¯"ä¸ªè‚¡ä¸èƒ½è¿›è¡Œæ’åæŸ¥è¯¢"

2. **æ•°é‡é™åˆ¶**
   - ä¹‹å‰ï¼šå¯èƒ½æ¥å—0æˆ–è¶…è¿‡999çš„æ•°é‡
   - ç°åœ¨ï¼šä¸¥æ ¼é™åˆ¶åœ¨1-999èŒƒå›´å†…

3. **æ¿å—æŸ¥è¯¢**
   - ä¹‹å‰ï¼š"æˆ¿åœ°äº§æ¿å—"å¯èƒ½æŸ¥è¯¢å¤±è´¥
   - ç°åœ¨ï¼šè‡ªåŠ¨æ˜ å°„åˆ°"æˆ¿åœ°äº§å¼€å‘"

### å…¼å®¹æ€§
- âœ… APIæ¥å£å®Œå…¨å…¼å®¹
- âœ… æ•°æ®åº“æŸ¥è¯¢å…¼å®¹
- âœ… å‰ç«¯æ— éœ€ä¿®æ”¹

## ğŸ” éªŒè¯å‡çº§

### åŠŸèƒ½æµ‹è¯•
```python
# æµ‹è¯•ä¸ªè‚¡æ’åéªŒè¯
curl -X POST http://localhost:8000/query \
  -H "Content-Type: application/json" \
  -d '{"question": "è´µå·èŒ…å°æ¶¨å¹…æ’å"}'
# æœŸæœ›ï¼šè¿”å›é”™è¯¯ä¿¡æ¯

# æµ‹è¯•æ¿å—æŸ¥è¯¢
curl -X POST http://localhost:8000/query \
  -H "Content-Type: application/json" \
  -d '{"question": "æˆ¿åœ°äº§æ¿å—çš„ä¸»åŠ›èµ„é‡‘"}'
# æœŸæœ›ï¼šè¿”å›æ­£ç¡®æ•°æ®
```

### å¥åº·æ£€æŸ¥
```bash
# APIå¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æ•°æ®åº“è¿æ¥æ£€æŸ¥
python scripts/utils/system_check.py
```

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚éœ€å›æ»šåˆ°v2.2.5ï¼š

```bash
# åœæ­¢å½“å‰æœåŠ¡
# Ctrl+C

# åˆ‡æ¢åˆ°å¤‡ä»½ç‰ˆæœ¬
cd ..
mv stock_analysis_system stock_analysis_system_v2.2.6
mv stock_analysis_system_v2.2.5_backup stock_analysis_system

# æˆ–ä½¿ç”¨Git
cd stock_analysis_system
git checkout v2.2.5

# é‡å¯æœåŠ¡
python -m uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š`logs/api.log`
2. æ£€æŸ¥ç³»ç»ŸçŠ¶æ€ï¼š`python scripts/utils/system_check.py`
3. å‚è€ƒæµ‹è¯•æŠ¥å‘Šï¼š`docs/testing/v2.2.6-test-report.md`

---

**å‡çº§éš¾åº¦**: â­â˜†â˜†â˜†â˜† (éå¸¸ç®€å•)  
**é¢„è®¡æ—¶é—´**: 5-10åˆ†é’Ÿ  
**é£é™©ç­‰çº§**: ä½